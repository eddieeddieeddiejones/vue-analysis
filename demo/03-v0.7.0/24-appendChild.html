<html>
<body>
<ul id="ul">
</ul>
<script>
function a (template) {
    if (typeof template !== 'string') {
        return template
    }
    if (template.charAt(0) === '#') {
        var templateNode = document.getElementById(template.slice(1))
        if (!templateNode) return
        template = templateNode.innerHTML
    }
    var node = document.createElement('div'),
        frag = document.createDocumentFragment(),
        child
    node.innerHTML = template.trim()
    /* jshint boss: true */
    while (child = node.firstChild) {
        frag.appendChild(child)
    }
    return frag
}
var template = '<div class="a">hi</div><p>ha</p>'
a(template)
</script>
</body>
</html>
