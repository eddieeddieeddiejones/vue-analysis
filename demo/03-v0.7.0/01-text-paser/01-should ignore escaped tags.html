<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
<script>
var BINDING_RE = /\{\{(.+?)\}\}/
function parse (text) {
    if (!BINDING_RE.test(text)) return null
    var m, i, tokens = []
    /* jshint boss: true */
    console.log(m = text.match(BINDING_RE))
    while (m = text.match(BINDING_RE)) {
        i = m.index
        if (i > 0) tokens.push(text.slice(0, i))
        tokens.push({ key: m[1].trim() })
        text = text.slice(i + m[0].length)
    }
    if (text.length) tokens.push(text)
    console.log(tokens)
    return tokens
}
parse('test {{key}} &#123;&#123;hello&#125;&#125;')
</script>
</body>
</html>